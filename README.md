# BuggyWeatherApp

Это погодное приложение для Android, демонстрирующее хорошие архитектурные практики, обработку ошибок и оптимизацию производительности.

## Настройка

### API ключ

Приложение использует API OpenWeatherMap, которое требует API-ключа. Приложение включает API-ключ по умолчанию для разработки, но для продакшена рекомендуется использовать свой собственный:

1. Зарегистрируйте аккаунт на [OpenWeatherMap](https://openweathermap.org/) и получите API-ключ
2. Добавьте ваш API-ключ в файл `local.properties` в корне проекта:

```properties
WEATHER_API_KEY=ваш_api_ключ_здесь
```

Примечание: Файл `local.properties` по умолчанию игнорируется Git, что обеспечивает безопасность вашего API-ключа и предотвращает его попадание в репозиторий.

#### Использование API-ключа по умолчанию

Если вы не добавите свой API-ключ, приложение будет использовать ключ по умолчанию. Это нормально для разработки, но у него есть ограничения на количество запросов, и его не следует использовать в продакшене. Во время процесса сборки вы увидите предупреждение, если используется ключ по умолчанию.

## Архитектура

Приложение следует архитектурному паттерну MVVM (Model-View-ViewModel) и использует следующие компоненты:

- **View**: MainActivity, компоненты Compose UI
- **ViewModel**: WeatherViewModel, LocationViewModel
- **Repository**: WeatherRepository, LocationRepository
- **API**: Retrofit, OkHttp
- **Dependency Injection**: Hilt

## Функции

- Информация о текущей погоде
- Прогноз погоды
- Погода на основе местоположения
- Поиск по городам
- Обработка ошибок
- Офлайн-кэширование
- Поддержка темной темы

## Зависимости

- Kotlin Coroutines
- Jetpack Compose
- Hilt для внедрения зависимостей
- Retrofit для сетевых запросов
- OkHttp для HTTP-клиента
- Coil для загрузки изображений
- Google Play Services Location

## Лучшие практики

- Предотвращение утечек памяти
- Правильное управление потоками
- Обработка ошибок
- Паттерн репозитория
- Реактивное состояние UI
- Очистка ресурсов
- Учёт жизненного цикла приложения